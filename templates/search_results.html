{% extends 'layouts/base.html' %}
{% load static %}
{% block content %}

<form method="GET" action="{% url 'search_cards' %}">
    <label for="name">Nombre:</label>
    <input type="text" id="name" name="name" placeholder="Buscar por nombre">

    <label for="type">Tipo:</label>
    <select id="type" name="type">
        <option value="">--Seleccionar tipo--</option>
        <option value="Spell Card">Spell Card</option>
        <option value="Trap Card">Trap Card</option>
        <option value="Monster Card">Monster Card</option>
    </select>

    <label for="archetype">Arquetipo:</label>
    <select name="archetype" id=""></select>

    <label for="set_rarity">Rareza:</label>
    <select id="set_rarity" name="set_rarity">
        <option value="">--Seleccionar rareza--</option>
        <option value="Common">Common</option>
        <option value="Rare">Rare</option>
        <option value="Ultra Rare">Ultra Rare</option>
    </select>

    <button type="submit">Buscar</button>
</form>

<h1>Resultados de la búsqueda</h1>

{% if cards %}
    <div class="card-container">
        {% for card in cards %}
            <div class="card">
                <img src="{{ card.image_url }}" alt="{{ card.name }}">
                <h3>{{ card.name }}</h3>
                <p><strong>Tipo:</strong> {{ card.type }}</p>
                <p><strong>Arquetipo:</strong> {{ card.archetype }}</p>
                <p><strong>Rareza:</strong> {{ card.card_sets.0.set_rarity }}</p>
                <p><strong>Set:</strong> {{ card.card_sets.0.set_name }}</p>
            </div>
        {% endfor %}
    </div>
{% else %}
    <p>No se encontraron cartas que coincidan con los criterios de búsqueda.</p>
{% endif %}

{% endblock %}